
> payment-mcp-server@1.0.0 start
> node dist/index.js

[32minfo[39m: Starting Payment MCP Server... {"nodeEnv":"development","port":3002,"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:31.568Z","version":"1.0.0"}
[32minfo[39m: Starting in HTTP mode with MCP capabilities {"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:31.572Z"}
[32minfo[39m: Payment service health check passed {"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:32.049Z"}
[32minfo[39m: MCP Server started successfully with 18 tools available {"paymentLinks":7,"serverName":"payment-mcp-server","service":"payment-mcp-server","timestamp":"2025-06-25T18:06:32.050Z","transactions":11,"version":"1.0.0"}
[32minfo[39m: Express server started on port 3002 {"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:5173"],"env":"development","port":3002,"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:32.052Z"}
[32minfo[39m: GET /health {"ip":"::ffff:127.0.0.1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:32.059Z","userAgent":"curl/8.1.2"}
[32minfo[39m: GET /health {"ip":"::ffff:127.0.0.1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:06:48.693Z","userAgent":"curl/8.1.2"}
[32minfo[39m: POST /mcp {"body":{"id":0,"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{},"clientInfo":{"name":"mcp-remote-fallback-test","version":"0.0.0"},"protocolVersion":"2025-03-26"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.023Z","userAgent":"node"}
[32minfo[39m: MCP Request: initialize {"id":0,"params":{"capabilities":{},"clientInfo":{"name":"mcp-remote-fallback-test","version":"0.0.0"},"protocolVersion":"2025-03-26"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.025Z"}
[32minfo[39m: POST /mcp {"body":{"jsonrpc":"2.0","method":"notifications/initialized"},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.215Z","userAgent":"node"}
[32minfo[39m: MCP Request: notifications/initialized {"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.216Z"}
[32minfo[39m: POST /mcp {"body":{"id":0,"jsonrpc":"2.0","method":"initialize","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e","capabilities":{},"clientInfo":{"name":"claude-ai (via mcp-remote 0.1.16)","version":"0.1.0"},"protocolVersion":"2024-11-05"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.223Z","userAgent":"node"}
[32minfo[39m: MCP Request: initialize {"id":0,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e","capabilities":{},"clientInfo":{"name":"claude-ai (via mcp-remote 0.1.16)","version":"0.1.0"},"protocolVersion":"2024-11-05"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.225Z"}
[32minfo[39m: POST /mcp {"body":{"jsonrpc":"2.0","method":"notifications/initialized","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.296Z","userAgent":"node"}
[32minfo[39m: MCP Request: notifications/initialized {"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.296Z"}
[32minfo[39m: POST /mcp {"body":{"id":1,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.311Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":1,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.311Z"}
[32minfo[39m: POST /mcp {"body":{"id":3,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.317Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":3,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.318Z"}
[32minfo[39m: POST /mcp {"body":{"id":5,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.321Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":5,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.321Z"}
[32minfo[39m: POST /mcp {"body":{"id":2,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.324Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":2,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.324Z"}
[32minfo[39m: POST /mcp {"body":{"id":6,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.332Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":6,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.332Z"}
[32minfo[39m: POST /mcp {"body":{"id":4,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.333Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":4,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.333Z"}
[32minfo[39m: POST /mcp {"body":{"id":7,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.352Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":7,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.352Z"}
[32minfo[39m: POST /mcp {"body":{"id":8,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.379Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":8,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:27:57.379Z"}
[32minfo[39m: POST /mcp {"body":{"id":9,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.057Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":9,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.057Z"}
[32minfo[39m: POST /mcp {"body":{"id":10,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.059Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":10,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.059Z"}
[32minfo[39m: POST /mcp {"body":{"id":11,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.061Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":11,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:00.061Z"}
[32minfo[39m: POST /mcp {"body":{"id":12,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:01.290Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":12,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:28:01.290Z"}
[32minfo[39m: POST /mcp {"body":{"id":13,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.164Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":13,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.166Z"}
[32minfo[39m: POST /mcp {"body":{"id":15,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.168Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":15,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.168Z"}
[32minfo[39m: POST /mcp {"body":{"id":14,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.169Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":14,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:57.169Z"}
[32minfo[39m: POST /mcp {"body":{"id":16,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:58.423Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":16,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:30:58.423Z"}
[32minfo[39m: POST /mcp {"body":{"id":18,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.323Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":18,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.327Z"}
[32minfo[39m: POST /mcp {"body":{"id":19,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.332Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":19,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.332Z"}
[32minfo[39m: POST /mcp {"body":{"id":17,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.333Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":17,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.333Z"}
[32minfo[39m: POST /mcp {"body":{"id":20,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.963Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":20,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:17.964Z"}
[32minfo[39m: POST /mcp {"body":{"id":21,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.735Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":21,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.736Z"}
[32minfo[39m: POST /mcp {"body":{"id":23,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.738Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":23,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.738Z"}
[32minfo[39m: POST /mcp {"body":{"id":22,"jsonrpc":"2.0","method":"tools/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.741Z","userAgent":"node"}
[32minfo[39m: MCP Request: tools/list {"id":22,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:25.741Z"}
[32minfo[39m: POST /mcp {"body":{"id":24,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:26.230Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":24,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T18:32:26.231Z"}
[32minfo[39m: POST /mcp {"body":{"id":25,"jsonrpc":"2.0","method":"resources/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T19:19:35.431Z","userAgent":"node"}
[32minfo[39m: MCP Request: resources/list {"id":25,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T19:19:35.432Z"}
[32minfo[39m: POST /mcp {"body":{"id":26,"jsonrpc":"2.0","method":"prompts/list","params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"}},"ip":"::1","query":{},"service":"payment-mcp-server","timestamp":"2025-06-25T19:19:36.529Z","userAgent":"node"}
[32minfo[39m: MCP Request: prompts/list {"id":26,"params":{"_claudeMcpAuthToken":"9085926c49d1eeb916f6cf8e13a9bfdd0f09ba4fd70696dcb0ac6db83c4b814e"},"service":"payment-mcp-server","timestamp":"2025-06-25T19:19:36.557Z"}
[32minfo[39m: SIGTERM received, shutting down gracefully {"service":"payment-mcp-server","timestamp":"2025-06-25T19:23:11.179Z"}
[32minfo[39m: Payment service cache cleared {"service":"payment-mcp-server","timestamp":"2025-06-25T19:23:11.471Z"}
[32minfo[39m: MCP Server stopped successfully {"service":"payment-mcp-server","timestamp":"2025-06-25T19:23:11.471Z"}
